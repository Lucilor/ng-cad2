<div #cadContainer></div>
<div class="menu top">
	<app-toolbar [cad]="cad" [currCads]="currCads" (openCad)="afterOpenCad($event)"></app-toolbar>
</div>
<div class="menu left">
	<app-sub-cads [cad]="cad"></app-sub-cads>
</div>
<perfect-scrollbar class="menu right">
	<mat-accordion multi *ngIf="(cadStatus | async).name !== 'assemble'">
		<mat-expansion-panel expanded>
			<mat-expansion-panel-header>
				<mat-panel-title>CAD信息</mat-panel-title>
			</mat-expansion-panel-header>
			<app-cad-info [cad]="cad" [currCads]="currCads" [formulas]="formulas"></app-cad-info>
		</mat-expansion-panel>
		<mat-expansion-panel expanded>
			<mat-expansion-panel-header>
				<mat-panel-title>实体信息</mat-panel-title>
			</mat-expansion-panel-header>
			<mat-tab-group dynamicHeight>
				<mat-tab label="线段">
					<app-cad-line [cad]="cad"></app-cad-line>
				</mat-tab>
				<mat-tab label="文本">
					<app-cad-mtext [cad]="cad" [currCads]="currCads"></app-cad-mtext>
				</mat-tab>
				<mat-tab label="标注">
					<app-cad-dimension [cad]="cad"></app-cad-dimension>
				</mat-tab>
			</mat-tab-group>
		</mat-expansion-panel>
	</mat-accordion>
	<app-cad-assemble [cad]="cad" *ngIf="(cadStatus | async).name === 'assemble'"></app-cad-assemble>
</perfect-scrollbar>
<div class="menu bottom" [class.accent]="(cadStatus | async).name !== 'normal'">当前状态：{{ cadStatusStr }}</div>
<app-loading></app-loading>
